(this["webpackJsonpmovies-explorer-frontend"]=this["webpackJsonpmovies-explorer-frontend"]||[]).push([[0],{46:function(e,t,a){},47:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){"use strict";a.r(t);var c=a(1),s=a.n(c),n=a(18),i=a.n(n),r=(a(13),a(4)),o=(a(46),a(2)),l=a(3),j=s.a.createContext(),u=a.p+"static/media/header-logo.c1b0ba1c.svg",d=(a(47),a(0));var b=function(e){var t=e.isOpen,a=e.onClose;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"navigation",children:[Object(d.jsx)("div",{className:"navigation__blur ".concat(t&&"navigation__blur_type_is-open"),onClick:function(e){e.target===e.currentTarget&&a()}}),Object(d.jsxs)("div",{className:"navigation__menu-container-mobile ".concat(t&&"navigation__menu-container-mobile_type_is-open"),children:[Object(d.jsxs)("nav",{className:"navigation__menu-mobile",children:[Object(d.jsx)(r.c,{exact:!0,to:"/",className:"navigation__menu-mobile-link",activeClassName:"navigation__menu-mobile-link_type_active",onClick:a,children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),Object(d.jsx)(r.c,{to:"/movies",className:"navigation__menu-mobile-link",activeClassName:"navigation__menu-mobile-link_type_active",onClick:a,children:"\u0424\u0438\u043b\u044c\u043c\u044b"}),Object(d.jsx)(r.c,{to:"/saved-movies",className:"navigation__menu-mobile-link",activeClassName:"navigation__menu-mobile-link_type_active",onClick:a,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"})]}),Object(d.jsxs)(r.c,{to:"/profile",className:"navigation__profile-container-link",onClick:a,children:[Object(d.jsx)("p",{className:"navigation__user-data",children:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"}),Object(d.jsx)("div",{className:"navigation__auth-pic"})]})]})]}),Object(d.jsx)(l.c,{children:Object(d.jsx)(l.a,{path:["/movies","/saved-movies","/profile"],children:Object(d.jsxs)("nav",{className:"navigation__movies-container",children:[Object(d.jsx)(r.c,{to:"/movies",className:"navigation__movies-link",activeClassName:"navigation__movies-link_type_active",children:"\u0424\u0438\u043b\u044c\u043c\u044b"}),Object(d.jsx)(r.c,{to:"/saved-movies",className:"navigation__movies-link",activeClassName:"navigation__movies-link_type_active",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0451\u043d\u043d\u044b\u0435 \u0444\u0438\u043b\u044c\u043c\u044b"})]})})})]})};a(50);var m=function(e){var t=e.isOpen,a=e.onClose,c=e.onOpenMobileMenu;return Object(d.jsxs)(l.c,{children:[Object(d.jsx)(l.a,{exact:!0,path:"/",children:Object(d.jsxs)("header",{className:"header header__bg-blue",children:[Object(d.jsx)(r.b,{to:"/",children:Object(d.jsx)("img",{className:"header__logo",src:u,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f"})}),Object(d.jsxs)("nav",{className:"header__auth-container__main-page",children:[Object(d.jsx)(r.b,{to:"/signup",className:"header__auth-link header__auth-link_type_signup",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(d.jsx)(r.b,{to:"/signin",className:"header__auth-link header__auth-link_type_signin",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})}),Object(d.jsx)(l.a,{path:["/movies","/saved-movies","/profile"],children:Object(d.jsxs)("header",{className:"header header_type_grid header__bg-black",children:[Object(d.jsx)("div",{className:"header__grid-wrap header__grid-wrap_type_start",children:Object(d.jsx)(r.b,{to:"/",children:Object(d.jsx)("img",{className:"header__logo",src:u,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f"})})}),Object(d.jsx)(b,{isOpen:t,onClose:a,onOpenMobileMenu:c}),Object(d.jsx)("div",{className:"header__grid-wrap header__grid-wrap_type_end",children:Object(d.jsxs)(r.b,{to:"/profile",className:"header__auth-container header__auth-container_type_profile",children:[Object(d.jsx)("p",{className:"header__user-data",children:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442"}),Object(d.jsx)("div",{className:"header__auth-pic"})]})}),Object(d.jsx)("button",{type:"button",className:"header__menu-burger-container",onClick:t?a:c,children:Object(d.jsx)("span",{className:"header__menu-burger-button ".concat(t&&"header__menu-burger-button_type_close")})})]})})]})},h=a.p+"static/media/promo-logo.a4d9b31a.png";a(51);var _=function(){return Object(d.jsxs)("section",{className:"promo",children:[Object(d.jsx)("div",{className:"promo__container",children:Object(d.jsx)("h1",{className:"promo__title",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u0430 \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442\u0430 \u0412\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438."})}),Object(d.jsx)("img",{src:h,alt:"logo",className:"promo__logo"})]})};a(52);var O=function(){return Object(d.jsxs)("section",{className:"about-project",children:[Object(d.jsx)("h2",{className:"about-project__title",children:"\u041e \u043f\u0440\u043e\u0435\u043a\u0442\u0435"}),Object(d.jsxs)("div",{className:"about-project__two-columns",children:[Object(d.jsxs)("article",{className:"about-project__content",children:[Object(d.jsx)("h3",{className:"aabout-project__content-stage",children:"\u0414\u0438\u043f\u043b\u043e\u043c\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u0432\u043a\u043b\u044e\u0447\u0430\u043b 5 \u044d\u0442\u0430\u043f\u043e\u0432"}),Object(d.jsx)("p",{className:"about-project__content-description",children:"\u0421\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043b\u0430\u043d\u0430, \u0440\u0430\u0431\u043e\u0442\u0443 \u043d\u0430\u0434 \u0431\u044d\u043a\u0435\u043d\u0434\u043e\u043c, \u0432\u0451\u0440\u0441\u0442\u043a\u0443, \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0438 \u0444\u0438\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u043e\u0440\u0430\u0431\u043e\u0442\u043a\u0438."})]}),Object(d.jsxs)("article",{className:"about-project__content",children:[Object(d.jsx)("h3",{className:"aabout-project__content-stage",children:"\u041d\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0434\u0438\u043f\u043b\u043e\u043c\u0430 \u0443\u0448\u043b\u043e 5 \u043d\u0435\u0434\u0435\u043b\u044c"}),Object(d.jsx)("p",{className:"about-project__content-description",children:"\u0423 \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u044d\u0442\u0430\u043f\u0430 \u0431\u044b\u043b \u043c\u044f\u0433\u043a\u0438\u0439 \u0438 \u0436\u0451\u0441\u0442\u043a\u0438\u0439 \u0434\u0435\u0434\u043b\u0430\u0439\u043d, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0443\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u0441\u043e\u0431\u043b\u044e\u0434\u0430\u0442\u044c, \u0447\u0442\u043e\u0431\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0449\u0438\u0442\u0438\u0442\u044c\u0441\u044f."})]})]}),Object(d.jsxs)("div",{className:"about-project__time-container about-project__time-container_type_first",children:[Object(d.jsx)("div",{className:"about-project__time about-project__time_type_backend",children:Object(d.jsx)("p",{className:"about-project__time-text about-project__time-text_type_black",children:"1 \u043d\u0435\u0434\u0435\u043b\u044f"})}),Object(d.jsx)("div",{className:"about-project__time about-project__time_type_frontend",children:Object(d.jsx)("p",{className:"about-project__time-text about-project__time-text_type_white",children:"4 \u043d\u0435\u0434\u0435\u043b\u0438"})})]}),Object(d.jsxs)("div",{className:"about-project__time-container",children:[Object(d.jsx)("div",{className:"about-project__time about-project__time_type_backend-description",children:Object(d.jsx)("p",{className:"about-project__time-text about-project__time-text_type_grey about-project__time-text_type_height",children:"Back-end"})}),Object(d.jsx)("div",{className:"about-project__time about-project__time_type_frontend-description",children:Object(d.jsx)("p",{className:"about-project__time-text about-project__time-text_type_grey about-project__time-text_type_height",children:"Front-end"})})]})]})};a(53);var p=function(){var e=[{id:1,subject:"HTML"},{id:2,subject:"CSS"},{id:3,subject:"JS"},{id:4,subject:"React"},{id:5,subject:"Git"},{id:6,subject:"Express.js"},{id:7,subject:"mongoDB"}];return Object(d.jsxs)("section",{id:"techs-id",className:"techs",children:[Object(d.jsx)("h2",{className:"techs__content-title",children:"\u0422\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438"}),Object(d.jsxs)("div",{className:"techs__container",children:[Object(d.jsx)("h3",{className:"techs__title",children:"7 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0439"}),Object(d.jsx)("p",{className:"techs__text",children:"\u041d\u0430 \u043a\u0443\u0440\u0441\u0435 \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043c\u044b \u043e\u0441\u0432\u043e\u0438\u043b\u0438 \u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043b\u0438 \u0432 \u0434\u0438\u043f\u043b\u043e\u043c\u043d\u043e\u043c \u043f\u0440\u043e\u0435\u043a\u0442\u0435."}),Object(d.jsx)("ul",{className:"techs__list",children:null===e||void 0===e?void 0:e.map((function(e){return Object(d.jsx)("li",{children:Object(d.jsx)("p",{className:"techs__item",children:e.subject})},null===e||void 0===e?void 0:e.id)}))})]})]})},v=a.p+"static/media/my-photo.ff66ac82.png";a(54);var x=function(){return Object(d.jsxs)("section",{className:"about-me",children:[Object(d.jsx)("h2",{className:"about-me__title",children:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442"}),Object(d.jsxs)("div",{className:"about-me__section",children:[Object(d.jsxs)("article",{className:"about-me__text",children:[Object(d.jsx)("h3",{className:"about-me__name",children:"\u0415\u0432\u0433\u0435\u043d\u0438\u0439"}),Object(d.jsx)("p",{className:"about-me__profession",children:"\u0424\u0440\u043e\u043d\u0442\u0435\u043d\u0434-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a"}),Object(d.jsx)("p",{className:"about-me__description",children:"\u042f \u0440\u043e\u0434\u0438\u043b\u0441\u044f \u0438 \u0436\u0438\u0432\u0443 \u0432 \u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433\u0435, \u0443\u0447\u0443\u0441\u044c \u043d\u0430 \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442\u0435 \u043f\u0440\u043e\u043c\u044b\u0448\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u0438 \u0433\u0440\u0430\u0436\u0434\u0430\u043d\u0441\u043a\u043e\u0433\u043e \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430. \u042f \u043b\u044e\u0431\u043b\u044e \u0441\u043b\u0443\u0448\u0430\u0442\u044c \u043c\u0443\u0437\u044b\u043a\u0443, \u0430 \u0435\u0449\u0451 \u0443\u0432\u043b\u0435\u043a\u0430\u044e\u0441\u044c \u0431\u0435\u0433\u043e\u043c. \u041d\u0435\u0434\u0430\u0432\u043d\u043e \u043d\u0430\u0447\u0430\u043b \u043a\u043e\u0434\u0438\u0442\u044c. \u0421 2019 \u0433\u043e\u0434\u0430 \u0440\u0430\u0431\u043e\u0442\u0430\u043b \u0432 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 \xabICA\xbb. \u041f\u043e\u0441\u043b\u0435 \u0442\u043e\u0433\u043e, \u043a\u0430\u043a \u043f\u0440\u043e\u0448\u0451\u043b \u043a\u0443\u0440\u0441 \u043f\u043e \u0432\u0435\u0431-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435, \u043d\u0430\u0447\u0430\u043b \u0437\u0430\u043d\u0438\u043c\u0430\u0442\u044c\u0441\u044f \u0444\u0440\u0438\u043b\u0430\u043d\u0441-\u0437\u0430\u043a\u0430\u0437\u0430\u043c\u0438 \u0438 \u0443\u0448\u0451\u043b \u0441 \u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b."}),Object(d.jsxs)("ul",{className:"about-me__social-links",children:[Object(d.jsx)("li",{children:Object(d.jsx)("a",{href:"https://www.facebook.com/eugen.gaiduk.7",className:"about-me__link",target:"_blank",rel:"noreferrer",children:"Facebook"})}),Object(d.jsx)("li",{children:Object(d.jsx)("a",{href:"https://github.com/JoKeda",className:"about-me__link",target:"_blank",rel:"noreferrer",children:"Github"})})]})]}),Object(d.jsx)("img",{className:"about-me__my-photo",src:v,alt:"\u041c\u043e\u0451 \u0444\u043e\u0442\u043e"})]})]})},f=a.p+"static/media/portfolio-link-icon.78c4c42a.svg";a(55);var g=function(){return Object(d.jsxs)("section",{className:"portfolio",children:[Object(d.jsx)("h2",{className:"portfolio__title",children:"\u041f\u043e\u0440\u0442\u0444\u043e\u043b\u0438\u043e"}),Object(d.jsxs)("ul",{className:"portfolio__list",children:[Object(d.jsx)("li",{children:Object(d.jsxs)("a",{href:"https://github.com/JoKeda/how-to-learn",className:"portfolio__list-section",target:"_blank",rel:"noreferrer",children:[Object(d.jsx)("p",{className:"portfolio__list-work",children:"\u0421\u0442\u0430\u0442\u0438\u0447\u043d\u044b\u0439 \u0441\u0430\u0439\u0442"}),Object(d.jsx)("img",{className:"portfolio__list-icon",src:f,alt:"\u0421\u044b\u043b\u043a\u0430 \u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0443"})]})}),Object(d.jsx)("span",{className:"portfolio__line"}),Object(d.jsx)("li",{children:Object(d.jsxs)("a",{href:"https://jokeda.github.io/russian-travel",className:"portfolio__list-section",target:"_blank",rel:"noreferrer",children:[Object(d.jsx)("p",{className:"portfolio__list-work",children:"\u0410\u0434\u0430\u043f\u0442\u0438\u0432\u043d\u044b\u0439 \u0441\u0430\u0439\u0442"}),Object(d.jsx)("img",{className:"portfolio__list-icon",src:f,alt:"\u0421\u044b\u043b\u043a\u0430 \u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0443"})]})}),Object(d.jsx)("span",{className:"portfolio__line"}),Object(d.jsx)("li",{children:Object(d.jsxs)("a",{href:"https://jokeda.students.nomoredomains.icu",className:"portfolio__list-section",target:"_blank",rel:"noreferrer",children:[Object(d.jsx)("p",{className:"portfolio__list-work",children:"\u041e\u0434\u043d\u043e\u0441\u0442\u0440\u0430\u043d\u0438\u0447\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435"}),Object(d.jsx)("img",{className:"portfolio__list-icon",src:f,alt:"\u0421\u044b\u043b\u043a\u0430 \u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0443"})]})})]})]})};a(56);var N=function(e){var t=e.isAuth,a=Object(l.f)();return t&&a.push("/movies"),Object(d.jsxs)("div",{className:"main",children:[Object(d.jsx)(_,{}),Object(d.jsx)(O,{}),Object(d.jsx)(p,{}),Object(d.jsx)(x,{}),Object(d.jsx)(g,{})]})};a(57);var k=function(){return Object(d.jsxs)(l.c,{children:[Object(d.jsx)(l.a,{exact:!0,path:"/",children:Object(d.jsxs)("footer",{className:"footer",children:[Object(d.jsx)("p",{className:"footer__title",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c \u0445 BeatFilm."}),Object(d.jsxs)("div",{className:"footer__copyright",children:[Object(d.jsx)("p",{className:"footer__copyright-date",children:"\xa9 2021"}),Object(d.jsxs)("ul",{className:"footer__links",children:[Object(d.jsx)("li",{children:Object(d.jsx)("a",{href:"https://praktikum.yandex.ru/",className:"footer__link",target:"_blank",rel:"noreferrer",children:"\u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c"})}),Object(d.jsx)("li",{children:Object(d.jsx)("a",{href:"https://github.com/JoKeda",className:"footer__link",target:"_blank",rel:"noreferrer",children:"Github"})}),Object(d.jsx)("li",{children:Object(d.jsx)("a",{href:"https://www.facebook.com/eugen.gaiduk.7",className:"footer__link",target:"_blank",rel:"noreferrer",children:"Facebook"})})]})]})]})}),Object(d.jsx)(l.a,{path:["/movies","/saved-movies"],children:Object(d.jsxs)("footer",{className:"footer",children:[Object(d.jsx)("p",{className:"footer__title",children:"\u0423\u0447\u0435\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442 \u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c \u0445 BeatFilm."}),Object(d.jsxs)("div",{className:"footer__copyright",children:[Object(d.jsx)("p",{className:"footer__copyright-date",children:"\xa9 2021"}),Object(d.jsxs)("ul",{className:"footer__links",children:[Object(d.jsx)("li",{children:Object(d.jsx)("a",{href:"https://praktikum.yandex.ru/",className:"footer__link",target:"_blank",rel:"noreferrer",children:"\u042f\u043d\u0434\u0435\u043a\u0441.\u041f\u0440\u0430\u043a\u0442\u0438\u043a\u0443\u043c"})}),Object(d.jsx)("li",{children:Object(d.jsx)("a",{href:"https://github.com/JoKeda",className:"footer__link",target:"_blank",rel:"noreferrer",children:"Github"})}),Object(d.jsx)("li",{children:Object(d.jsx)("a",{href:"https://www.facebook.com/eugen.gaiduk.7",className:"footer__link",target:"_blank",rel:"noreferrer",children:"Facebook"})})]})]})]})})]})},S=a(6),w=a.n(S),y=a(12),C=a(27),M=a(23),A=a.n(M),F=a(21),I=F.create({baseURL:"http://localhost:3000",headers:{Accept:"application/json","Content-Type":"application/JSON"}}),L=function(){return I.get("/movies",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}})},E=function(){return I.get("/users/me",{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}})};a(78);var B=function(e){return Object(d.jsxs)("div",{className:"filter-checkbox",children:[Object(d.jsxs)("label",{className:"filter-checkbox__container",children:[Object(d.jsx)("input",{className:"filter-checkbox__input",type:"checkbox",onChange:e.onCheckboxChange}),Object(d.jsx)("span",{className:"filter-checkbox__slider"})]}),Object(d.jsx)("p",{className:"filter-checkbox__text",children:"\u041a\u043e\u0440\u043e\u0442\u043a\u043e\u043c\u0435\u0442\u0440\u0430\u0436\u043a\u0438"})]})},z=(a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p,a.p+"static/media/like-icon-liked.12bee29d.svg"),J=a.p+"static/media/like-icon-unliked.c2041ece.svg",U=a.p+"static/media/delete-icon.c706615e.svg",$=(a(79),function(e){var t=function(t,a){console.log(t),e.id?e.removeMovie(a):e.toggleMovieSave(t,a)};return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("figure",{className:"movies-card",children:[Object(d.jsxs)("a",{target:"_blank",href:e.href,children:[" ",Object(d.jsx)("img",{className:"movies-card__image",src:e.id?e.movie.image:e.src?e.src:e.movie.image})]}),Object(d.jsxs)("figcaption",{className:"movies-card__description",children:[Object(d.jsx)("p",{className:"movies-card__text",children:e.movie.nameRU}),Object(d.jsx)("div",{children:e.isAdded}),Object(d.jsx)("div",{children:e.shortId}),e.hasSaveMovie?Object(d.jsx)("img",{src:U,className:"movies-card__like-icon",alt:"like icon",movie:e.movie,onClick:function(){e.reset(e.id)}}):e.id?Object(d.jsx)("img",{src:z,className:"movies-card__like-icon",alt:"like icon",movie:e.movie,onClick:function(){t(e.movie,e.id)}}):Object(d.jsx)("img",{src:J,className:"movies-card__like-icon",alt:"like icon",movie:e.movie,onClick:function(){t(e.movie,e.id,A.a)}})]}),Object(d.jsx)("p",{className:"movies-card__time",children:e.duration})]},e.key)})}),D=(a(80),F.create({baseURL:"https://api.nomoreparties.co/beatfilm-movies",headers:{"Content-Type":"application/JSON"}}));a(81);var T=function(){return Object(d.jsx)("div",{className:"preloader_wrapper",children:Object(d.jsx)("div",{className:"preloader",children:Object(d.jsx)("div",{className:"preloader__container",children:Object(d.jsx)("span",{className:"preloader__round"})})})})};a(82);var K=function(e){var t=Object(c.useState)(!1),a=Object(o.a)(t,2),s=a[0],n=(a[1],Object(c.useState)(!0)),i=Object(o.a)(n,2),r=i[0];return i[1],s?Object(d.jsx)(T,{}):Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(l.c,{children:[Object(d.jsx)(l.a,{path:"/movies",children:(e.movie?e.movie:[]).slice(0,e.count).map((function(t){return Object(d.jsx)($,{movie:t,duration:"".concat(Math.floor(t.duration/60),"\u0447 ").concat(t.duration%60,"\u043c"),src:"".concat("https://api.nomoreparties.co").concat(t.image?t.image.url:null),href:t.trailerLink,toggleMovieSave:e.toggleMovieSave,id:t._id,reset:e.reset,shortId:t.id,removeMovie:e.removeMovie,isAdd:e.isAdd},t.id)}))}),Object(d.jsx)(l.a,{path:"/saved-movies",children:(e.saveMovie?e.saveMovie:[]).slice(0,e.count).map((function(t){return Object(d.jsx)($,{movie:t,duration:"".concat(Math.floor(t.duration/60),"\u0447 ").concat(t.duration%60,"\u043c"),src:t.image?t.image.url:t.image,hasSaveMovie:r,id:t._id,href:t.trailer,reset:e.reset},t.id)}))})]})})};a(83);var R=function(e){var t=Object(c.useState)(4),a=Object(o.a)(t,2),s=a[0],n=a[1],i=Object(c.useState)(4),r=Object(o.a)(i,2),j=r[0],u=r[1],b=function(t,a){return 0==e.checkboxChecked?t:a},m=b(e.longFilteredMovies,e.shortFilteredMovies),h=b(e.longSaveMovies,e.shortSaveMovies),_=b(e.longSaveFilteredMovies,e.shortSaveFilteredMovies),O=function(){n(s+j)};return Object(c.useEffect)((function(){window.addEventListener("resize",(function(e){window.screen.width<768&&window.screen.width>480||window.screen.width<480&&window.screen.width>320?(n(2),u(2)):window.screen.width>768<window.screen.width<1280?(n(3),u(3)):(n(4),u(4))}))}),[]),Object(d.jsxs)(l.c,{children:[Object(d.jsx)(l.a,{path:"/movies",children:Object(d.jsxs)("section",{className:"movies-card-list",children:[Object(d.jsx)("div",{className:"error",children:e.notification}),Object(d.jsx)("div",{className:"movies-card-list__content",children:""==e.error&&1==e.clicked&&0==m.length?Object(d.jsx)("div",{className:"message",children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"}):Object(d.jsx)(K,{movie:m,saveMovie:e.searchValue?_:h,count:s,shortFilteredMovies:e.shortFilteredMovies,longFilteredMovies:e.longFilteredMovies,checkboxChecked:e.checkboxChecked,toggleMovieSave:e.toggleMovieSave,deleteOwnMovie:e.deleteOwnMovie,isAdd:e.isAdd,setIsAdd:e.setIsAdd,removeMovie:e.removeMovie})}),Object(d.jsx)("div",{className:"movies-card-list__block-more",children:m&&(m.length>0&&m.length>s)?Object(d.jsx)("button",{onClick:O,className:"movies-card-list__block-more-movies",children:"\u0415\u0449\u0451"}):null})]})}),Object(d.jsx)(l.a,{path:"/saved-movies",children:Object(d.jsxs)("section",{className:"movies-card-list",children:[Object(d.jsx)("div",{className:"movies-card-list__content",children:""==e.error&&1==e.clicked&&0==m.length?Object(d.jsx)("div",{className:"message",children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"}):Object(d.jsx)(K,{movie:m,count:e.count,shortSaveMovies:e.shortSaveFilteredMovies,longSaveMovies:e.longSaveFilteredMovies,saveMovie:e.searchValue?_:h,allSaveMovies:e.allSaveMovies,checkboxChecked:e.checkboxChecked,reset:e.reset})}),Object(d.jsx)("div",{className:"movies-card-list__block-more",children:h&&(h.length>0&&h.length>s)?Object(d.jsx)("button",{onClick:O,className:"movies-card-list__block-more-movies",children:"\u0415\u0449\u0451"}):null})]})})]})};a(84);var q=function(e){var t=Object(c.useState)([]),a=Object(o.a)(t,2),s=a[0],n=a[1],i=Object(c.useState)(!1),r=Object(o.a)(i,2),l=r[0],u=r[1],b=Object(c.useState)([]),m=Object(o.a)(b,2),h=m[0],_=m[1],O=Object(c.useState)([]),p=Object(o.a)(O,2),v=p[0],x=p[1],f=Object(c.useState)(""),g=Object(o.a)(f,2),N=g[0],k=g[1],S=Object(c.useRef)(null),M=Object(c.useState)(""),A=Object(o.a)(M,2),F=A[0],E=A[1],z=Object(c.useState)(!1),J=Object(o.a)(z,2),U=J[0],$=J[1],K=Object(c.useState)(""),q=Object(o.a)(K,2),V=q[0],G=q[1],H=Object(c.useState)(!1),P=Object(o.a)(H,2),Z=P[0],Q=P[1],W=Object(c.useState)(!0),X=Object(o.a)(W,2),Y=(X[0],X[1]),ee=Object(c.useState)(!1),te=Object(o.a)(ee,2),ae=te[0],ce=te[1],se=Object(c.useState)(""),ne=Object(o.a)(se,2),ie=ne[0],re=ne[1],oe=Object(c.useState)(!1),le=Object(o.a)(oe,2),je=le[0],ue=le[1];function de(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=Object(C.a)(e),c=0;c<t.length;c++)for(var s=0;s<a.length;s++)a[s].id===t[c].movieId&&(a[s]=t[c],console.log(a[s]+"merged"));return a}Object(c.useContext)(j),Object(c.useEffect)(Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q(!0),e.prev=1,e.next=4,D.get("");case 4:"OK"==(t=e.sent).statusText&&(n(t.data),_(t.data),re("")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),re("\u0412\u043e \u0432\u0440\u0435\u043c\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0441 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435\u043c \u0438\u043b\u0438 \u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d. \u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435 \u043d\u0435\u043c\u043d\u043e\u0433\u043e \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437.");case 11:Q(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])}))),[]),Object(c.useEffect)(Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q(!0),e.prev=1,e.next=4,L();case 4:"OK"==(t=e.sent).statusText&&(x(t.data),_(de(s,t.data)),re("")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),re("\u0412\u043e \u0432\u0440\u0435\u043c\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0441 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435\u043c \u0438\u043b\u0438 \u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d. \u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435 \u043d\u0435\u043c\u043d\u043e\u0433\u043e \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437.");case 11:Q(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])}))),[]);var be=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a=Object(C.a)(e),c=0;c<a.length;c++)e[c]._id===t&&delete e[c]._id;return a},me=function(){var e=Object(y.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q(!0),e.prev=1,e.next=4,a=t,I.delete("/movies/".concat(a),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});case 4:200==e.sent.status&&(be(h,t),L().then((function(e){"OK"==e.statusText&&(x(e.data),_(de(s,e.data)),ue(!0))})),he(t)),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(1);case 10:Q(!1);case 11:case"end":return e.stop()}var a}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),he=function(e){x((function(t){return t.filter((function(t){return t._id!==e}))})),re("")},_e=F.length?ke(h,F):[],Oe=(F.length&&Se(h),F.length&&we(h),F.length?Se(_e):[]),pe=F.length?we(_e):[],ve=F.length?ke(v,F):[],xe=F.length?Se(ve):[],fe=F.length?we(ve):[],ge=v.length>0?Se(v):[],Ne=v.length>0?we(v):[];function ke(e,t){return e.filter((function(e){return e.nameRU.toLowerCase().includes(t.toLowerCase())}))}function Se(e){return e.filter((function(e){return e.duration<=40}))}function we(e){return e.filter((function(e){return e.duration>40}))}return Object(c.useEffect)((function(){Y(""===N)}),[N]),Z?Object(d.jsx)(T,{}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"search-form",children:[Object(d.jsxs)("div",{className:"search-form__container",children:[Object(d.jsx)("input",{ref:S,type:"text",className:"search-form__input",placeholder:"\u0424\u0438\u043b\u044c\u043c",minLength:"2",maxLength:"30",onChange:function(e){return t=e.target.value,G(t),void(0==t.length?k((function(e){return"\u041d\u0443\u0436\u043d\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u043a\u043b\u044e\u0447\u0435\u0432\u043e\u0435 \u0441\u043b\u043e\u0432\u043e"})):k((function(e){return""})));var t},onKeyPress:function(e){"Enter"==e.key&&(E((function(e){return V})),u(!0))},value:V,onBlur:function(e){return function(e){switch(e.target.name){case"search":ce(!0)}}(e)},name:"search"}),Object(d.jsx)("button",{type:"submit",className:"search-form__button",onClick:function(e){e.preventDefault(),E((function(e){return V})),u(!0)},children:"\u041d\u0430\u0439\u0442\u0438"})]}),ae&&N&&Object(d.jsx)("p",{children:N}),Object(d.jsx)(B,{onCheckboxChange:function(){$(!U)}}),Object(d.jsx)("span",{className:"search-form__line"})]}),Object(d.jsx)(R,{shortFilteredMovies:Oe,longFilteredMovies:pe,checkboxChecked:U,movies:_e,saveFilteredMovies:ve,shortSaveFilteredMovies:xe,longSaveFilteredMovies:fe,allSaveMovies:v,longSaveMovies:Ne,shortSaveMovies:ge,reset:he,toggleMovieSave:function(e){if(-1==v.findIndex((function(t){return t.movieId===e.id||e.movieId||e._id}))){Q(!0);try{(function(e){return I.post("/movies",JSON.stringify({movieId:e.id,country:e.country?e.country:"\u0421\u0442\u0440\u0430\u043d\u0430 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u0430",director:e.director?e.director:"\u0420\u0435\u0436\u0438\u0441\u0441\u0435\u0440 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d",description:e.description?e.description:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e",duration:e.duration?e.duration:0,year:e.year?e.year:"\u0413\u043e\u0434 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d",image:e.image?"https://api.nomoreparties.co".concat(e.image.url):null,trailer:e.trailerLink?e.trailerLink:"https://me-mk.students.nomoredomains.monster/not-found",thumbnail:"https://api.diplom-film.students.nomoredomains.icu".concat(e.image.formats.thumbnail?e.image.formats.thumbnail.url:"")||!1,nameRU:e.nameRU?e.nameRU:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e",nameEN:e.nameEN?e.nameEN:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e"}),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}})})(e).then((function(e){201==e.status&&(L().then((function(e){"OK"==e.statusText&&(x(e.data),_(de(s,e.data)),ue(!0))})),re(""))}))}catch(t){}Q(!1)}},searchValue:F,clicked:l,error:N,notification:ie,isAdd:je,setIsAdd:ue,removeMovie:me})]})};a(85);var V=function(e){var t=Object(c.useContext)(j);return t.isAuth,t.setIsAuth,Object(l.f)(),Object(d.jsx)("div",{className:"movies",children:Object(d.jsx)(q,{})})};a(86);var G=function(e){var t=Object(c.useContext)(j),a=t.isAuth,s=(t.setIsAuth,Object(l.f)());return e.isAuth||s.push("/"),Object(d.jsxs)("div",{className:"saved-movies",children:[Object(d.jsx)("div",{children:a}),Object(d.jsx)(q,{}),Object(d.jsx)(R,{})]})};a(87);a(88);var H=function(e){var t=Object(c.useState)(!1),a=Object(o.a)(t,2),n=a[0],i=a[1],r=Object(c.useState)(""),u=Object(o.a)(r,2),b=u[0],m=u[1],h=s.a.useState(!1),_=Object(o.a)(h,2),O=_[0],p=_[1],v=Object(c.useState)(""),x=Object(o.a)(v,2),f=x[0],g=x[1],N=s.a.useState("\u0418\u043c\u044f \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"),k=Object(o.a)(N,2),S=k[0],w=k[1],y=s.a.useState(""),C=Object(o.a)(y,2),M=C[0],A=C[1],F=s.a.useState(!1),L=Object(o.a)(F,2),B=L[0],z=L[1],J=Object(c.useState)(""),U=Object(o.a)(J,2),$=U[0],D=U[1],K=Object(c.useState)(""),R=Object(o.a)(K,2),q=R[0],V=R[1],G=s.a.useState(!1),H=Object(o.a)(G,2),P=(H[0],H[1]),Z=Object(l.f)(),Q=Object(c.useContext)(j);function W(e){switch(e.target.name){case"email":p(!0);break;case"name":z(!0);break;default:console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u0432 blurHandler")}}Object(c.useEffect)((function(){i(!0);try{E().then((function(e){200==e.status&&(D(e.data.name),V(e.data.email))}))}catch(e){}i(!1)}),[]),s.a.useEffect((function(){P(!M&&!S)}),[M,S]),Object(c.useEffect)((function(){console.log(f),console.log(q)}));var X={name:b||$,email:q||f};return n?Object(d.jsx)(T,{}):Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"profile",children:Object(d.jsxs)("div",{className:"profile__user-data-container",children:[Object(d.jsxs)("h1",{className:"profile__title",children:["\u041f\u0440\u0438\u0432\u0435\u0442",Q.name?",".concat(Q.name):null,"!"]}),Object(d.jsxs)("form",{className:"profile__form",onSubmit:function(t){t.preventDefault(),i(!0);try{(function(e){return I.patch("/users/me",JSON.stringify(e),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}})})(X).then((function(t){e.setUserDataChanged(!0)}))}catch(a){}try{E().then((function(e){200==e.status&&(D(e.data.name),V(e.data.email))}))}catch(t){}i(!1)},children:[Object(d.jsxs)("div",{className:"profile__user-name-email-container profile__user-name-email-container_type_first",children:[Object(d.jsx)("p",{className:"profile__user-data",children:"\u0418\u043c\u044f"}),Object(d.jsx)("input",{type:"text",className:"profile__input",defaultValue:$?"".concat($):null,onChange:function(e){m(e.target.value);var t=/^[?!,.\-a-zA-Z0-9\s]+$/.test(e.target.value);e.target.value.length<2||e.target.value.length>30?w("\u0414\u043b\u0438\u043d\u0430 \u0438\u043c\u0435\u043d\u0438 \u0434\u043e\u043b\u0436\u043d\u0430 \u0441\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0442\u044c \u043e\u0442 2 \u0434\u043e 30 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"):w(t?"":"\u0418\u043c\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0443\u043a\u0430\u0437\u0430\u043d\u043e \u043b\u0430\u0442\u0438\u043d\u0438\u0446\u0435\u0439")},onBlur:W,name:"name"})]}),B&&S&&Object(d.jsx)("div",{className:"error",children:S}),Object(d.jsxs)("div",{className:"profile__user-name-email-container profile__user-name-email-container_type_second",children:[Object(d.jsx)("p",{className:"profile__user-data",children:"\u041f\u043e\u0447\u0442\u0430"}),Object(d.jsx)("input",{type:"text",className:"profile__input",defaultValue:q?"".concat(q):null,onChange:function(e){g(e.target.value);var t=/^([a-z0-9_-]+\.)*[a-z0-9_-]+@[a-z0-9_-]+(\.[a-z0-9_-]+)*\.[a-z]{2,6}$/.test(e.target.value);A(t?"":"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email")},onBlur:W,name:"email"})]}),O&&M&&Object(d.jsx)("div",{className:"error",children:M}),Object(d.jsxs)("div",{className:"profile__buttons-container",children:[Object(d.jsx)("button",{type:"submit",className:"profile__button profile__button_type_edit",children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(d.jsx)("button",{type:"button",className:"profile__button profile__button_type_logout",onClick:function(){return localStorage.clear(),e.setLogined(!1),e.setIsAuth(!1),Z.push("/"),void e.setCurrentUser({})},children:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"})]})]})]})})})};a(89);var P=function(e){var t=e.type,a=e.placeholder,c=e.autoComplete,s=void 0===c?"none":c,n=e.pattern,i=e.minLength,r=e.maxLength,o=e.title,l=e.required,j=e.label;return e.change,e.onblur,e.name,Object(d.jsxs)("div",{className:"input__block",children:[j&&Object(d.jsx)("p",{className:"register__input-name",children:j}),Object(d.jsx)("input",{type:t,className:"input",placeholder:a,autoComplete:s,pattern:n,required:l,title:o,minLength:i,maxLength:r,onChange:e.change,onBlur:e.onblur,name:e.name})]})};a(90);var Z=function(e){var t=Object(c.useState)(""),a=Object(o.a)(t,2),n=a[0],i=a[1],j=Object(c.useState)(""),b=Object(o.a)(j,2),m=b[0],h=b[1],_=Object(c.useState)(""),O=Object(o.a)(_,2),p=O[0],v=O[1],x=Object(c.useState)(""),f=Object(o.a)(x,2),g=f[0],N=f[1],k=Object(c.useState)(!1),S=Object(o.a)(k,2),C=S[0],M=S[1],A=s.a.useState(!1),F=Object(o.a)(A,2),L=F[0],E=F[1],B=s.a.useState(!1),z=Object(o.a)(B,2),J=z[0],U=z[1],$=s.a.useState(!1),D=Object(o.a)($,2),K=D[0],R=D[1],q=s.a.useState("Email \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"),V=Object(o.a)(q,2),G=V[0],H=V[1],Z=s.a.useState("\u041f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"),Q=Object(o.a)(Z,2),W=Q[0],X=Q[1],Y=s.a.useState("\u0418\u043c\u044f \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"),ee=Object(o.a)(Y,2),te=ee[0],ae=ee[1],ce=s.a.useState(!1),se=Object(o.a)(ce,2),ne=se[0],ie=se[1],re=Object(c.useState)(!1),oe=Object(o.a)(re,2),le=oe[0],je=oe[1],ue=Object(l.f)();function de(e){switch(e.target.name){case"email":E(!0);break;case"password":U(!0);break;case"name":R(!0);break;default:console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u0432 blurHandler")}}e.isAuth&&ue.push("/movies"),s.a.useEffect((function(){ie(!(G||W||te))}),[G,W,te]);var be={name:n,email:m,password:p},me=function(){var e=Object(y.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(je(!0),t.preventDefault(),""===n||""===m||""===p){e.next=14;break}return e.prev=3,e.next=6,a=be,I.post("/signup",JSON.stringify(a));case 6:201==e.sent.status&&(N(""),M(!0),console.log(C),ue.push("/signin")),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),N("'\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043f\u044b\u0442\u043a\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f'");case 13:je(!1);case 14:case"end":return e.stop()}var a}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}();return le?Object(d.jsx)(T,{}):Object(d.jsx)("div",{className:"register",children:Object(d.jsxs)("div",{className:"register__section",children:[Object(d.jsx)("img",{className:"register__logo",src:u,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f"}),Object(d.jsxs)("form",{className:"register__form",onSubmit:me,children:[Object(d.jsx)("h1",{className:"register__title",children:"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c!"}),Object(d.jsx)(P,{label:"\u0418\u043c\u044f",type:"text",placeholder:"\u0412\u0438\u0442\u0430\u043b\u0438\u0439",minLength:"2",maxLength:"30",required:!0,change:function(e){i(e.target.value);var t=/^[?!,.\-a-zA-Z0-9\s]+$/.test(e.target.value);e.target.value.length<2||e.target.value.length>30?ae("\u0414\u043b\u0438\u043d\u0430 \u0438\u043c\u0435\u043d\u0438 \u0434\u043e\u043b\u0436\u043d\u0430 \u0441\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0442\u044c \u043e\u0442 2 \u0434\u043e 30 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"):ae(t?"":"\u0418\u043c\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0443\u043a\u0430\u0437\u0430\u043d\u043e \u043b\u0430\u0442\u0438\u043d\u0438\u0446\u0435\u0439")},name:"name",onblur:de}),Object(d.jsx)("span",{id:"register-input-error",className:"register__input-error"}),K&&te&&Object(d.jsx)("span",{children:te}),Object(d.jsx)(P,{label:"E-mail",type:"email",placeholder:"pochta@yandex.ru",autoComplete:"none",pattern:"^([\\w.*-]+@([\\w-]+\\.)+[\\w-]{2,4})?$",required:!0,change:function(e){h(e.target.value);var t=/^([\w.*-]+@([\w-]+\.)+[\w-]{2,4})?$/.test(e.target.value);H(t?"":"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email")},name:"email",onblur:de}),Object(d.jsx)("span",{id:"register-input-error",className:"register__input-error"}),L&&G&&Object(d.jsx)("span",{children:G}),Object(d.jsx)(P,{label:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",autoComplete:"none",minLength:"8",maxLength:"30",pattern:"^\\S*$",title:"\u041d\u0435 \u0434\u043e\u043f\u0443\u0441\u043a\u0430\u0435\u0442\u0441\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0431\u0435\u043b\u0430 \u0432 \u043f\u0430\u0440\u043e\u043b\u0435",required:!0,change:function(e){v(e.target.value),/^\S*$/.test(e.target.value)?e.target.value.length<8?X("\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u044f 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"):X(""):X("\u041d\u0435 \u0434\u043e\u043f\u0443\u0441\u043a\u0430\u0435\u0442\u0441\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432 \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u043f\u0430\u0440\u043e\u043b\u044f")},name:"password",onblur:de}),Object(d.jsx)("span",{id:"register-input-error",className:"register__input-error"}),J&&W&&Object(d.jsx)("span",{children:W}),Object(d.jsx)("div",{className:"error",children:g}),Object(d.jsx)("button",{type:"submit",className:"register__submit-button",disabled:!ne,children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),Object(d.jsxs)("div",{className:"register__task",children:[Object(d.jsx)("p",{className:"register__task-text",children:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?"}),Object(d.jsx)(r.b,{to:"/signin",className:"register__signin-link",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})]})})};a(91);var Q=function(e){var t=Object(c.useState)(!1),a=Object(o.a)(t,2),n=a[0],i=a[1],j=Object(c.useState)(!1),b=Object(o.a)(j,2),m=(b[0],b[1],Object(c.useState)("")),h=Object(o.a)(m,2),_=h[0],O=h[1],p=Object(c.useState)(""),v=Object(o.a)(p,2),x=v[0],f=v[1],g=Object(c.useState)(""),N=Object(o.a)(g,2),k=N[0],S=N[1],C=s.a.useState(!1),M=Object(o.a)(C,2),A=M[0],F=M[1],L=s.a.useState(!1),E=Object(o.a)(L,2),B=E[0],z=E[1],J=s.a.useState("Email \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"),U=Object(o.a)(J,2),$=U[0],D=U[1],K=s.a.useState("\u041f\u0430\u0440\u043e\u043b\u044c \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"),R=Object(o.a)(K,2),q=R[0],V=R[1],G=s.a.useState(!1),H=Object(o.a)(G,2),Z=H[0],Q=H[1],W=Object(l.f)();e.isAuth&&W.push("/movies"),s.a.useEffect((function(){Q(!$&&!q)}),[$,q]);var X=function(e){switch(e.target.name){case"email":F(!0);break;case"password":z(!0);break;default:console.log("\u041e\u0448\u0438\u0431\u043a\u0430 \u0432 blurHandler")}},Y={email:_,password:x},ee=function(){var t=Object(y.a)(w.a.mark((function t(a){var c;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),i(!0),t.prev=2,t.next=5,s=Y,I.post("/signin",JSON.stringify(s));case 5:200==(c=t.sent).status&&(localStorage.setItem("token",c.data.token),e.setLogined(!0),e.setIsAuth(!0),W.push("/movies")),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),S("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043f\u044b\u0442\u043a\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f");case 12:i(!1);case 13:case"end":return t.stop()}var s}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}();return n?Object(d.jsx)(T,{}):Object(d.jsx)("div",{className:"login",children:Object(d.jsxs)("div",{className:"login__section",children:[Object(d.jsx)("img",{className:"login__logo",src:u,alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f"}),Object(d.jsxs)("form",{className:"login__form",onSubmit:ee,children:[Object(d.jsx)("h1",{className:"login__title",children:"\u0420\u0430\u0434\u044b \u0432\u0438\u0434\u0435\u0442\u044c!"}),Object(d.jsx)(P,{label:"E-mail",type:"email",placeholder:"pochta@yandex.ru",autoComplete:"none",pattern:"^([\\w.*-]+@([\\w-]+\\.)+[\\w-]{2,4})?$",required:!0,change:function(e){O(e.target.value),/^([\w.*-]+@([\w-]+\.)+[\w-]{2,4})?$/.test(e.target.value)?D(""):(D("\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email"),console.log($))},onblur:X,name:"email"}),Object(d.jsx)("span",{id:"login-input-error",className:"login__input-error"}),1==A&&$&&Object(d.jsx)("span",{children:$}),Object(d.jsx)(P,{label:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",autoComplete:"none",minLength:"8",maxLength:"30",pattern:"^\\S*$",title:"\u041d\u0435 \u0434\u043e\u043f\u0443\u0441\u043a\u0430\u0435\u0442\u0441\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0431\u0435\u043b\u0430 \u0432 \u043f\u0430\u0440\u043e\u043b\u0435",required:!0,change:function(e){f(e.target.value),/^\S*$/.test(e.target.value)?e.target.value.length<8?V("\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0434\u043b\u0438\u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u044f 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"):V(""):V("\u041d\u0435 \u0434\u043e\u043f\u0443\u0441\u043a\u0430\u0435\u0442\u0441\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432 \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u043f\u0430\u0440\u043e\u043b\u044f")},onblur:X,name:"password"}),1==B&&q&&Object(d.jsx)("span",{children:q}),Object(d.jsx)("span",{id:"login-input-error",className:"login__input-error"}),Object(d.jsx)("div",{className:"error",children:k}),Object(d.jsx)("button",{type:"submit",className:"login__submit-button",disabled:!Z,children:"\u0412\u043e\u0439\u0442\u0438"}),Object(d.jsxs)("div",{className:"login__task",children:[Object(d.jsx)("p",{className:"login__task-text",children:"\u0415\u0449\u0451 \u043d\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?"}),Object(d.jsx)(r.b,{to:"/signup",className:"login__signup-link",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]})]})]})})},W=(a(92),function(e){var t=e.children,a=e.isAuth,s=e.setAuth,n=Object(c.useState)(!1),i=Object(o.a)(n,2),r=i[0],l=i[1];return Object(c.useEffect)((function(){!a&&localStorage.getItem("token")&&(l(!0),Object(y.a)(w.a.mark((function e(){var t,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:a=e.sent,console.log("userData",a),(null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.email)&&s(!0),l(!1);case 6:case"end":return e.stop()}}),e)})))())}),[]),Object(d.jsx)(d.Fragment,{children:r?Object(d.jsx)(T,{}):t})});var X=function(){var e=Object(c.useState)(!1),t=Object(o.a)(e,2),a=t[0],n=t[1],i=s.a.useState(!1),r=Object(o.a)(i,2),u=r[0],b=r[1],h=Object(c.useState)(!1),_=Object(o.a)(h,2),O=_[0],p=_[1],v=Object(c.useState)({}),x=Object(o.a)(v,2),f=x[0],g=x[1],S=Object(c.useState)(!1),w=Object(o.a)(S,2),y=w[0],C=w[1];return Object(c.useEffect)((function(){var e=localStorage.getItem("token");if(y&&e)try{E().then((function(e){console.log(e.data),g(e.data),p(!0),n(!1)}))}catch(t){}}),[y,a]),Object(d.jsx)(j.Provider,{value:f,children:Object(d.jsx)("div",{className:"app",children:Object(d.jsxs)("div",{className:"app__content",children:[Object(d.jsx)(m,{isOpen:u,onClose:function(){b(!1)},onOpenMobileMenu:function(){b(!0)}}),Object(d.jsx)(l.c,{children:Object(d.jsxs)(W,{isAuth:O,setAuth:p,children:[Object(d.jsx)(l.a,{path:"/profile",render:function(){return Object(d.jsx)(H,{isAuth:O,logined:y,setLogined:C,setIsAuth:p,userDataChanged:a,setUserDataChanged:n,setCurrentUser:g})}}),Object(d.jsx)(l.a,{path:"/movies",render:function(){return Object(d.jsx)(V,{isAuth:O})}}),Object(d.jsx)(l.a,{path:"/saved-movies",render:function(){return Object(d.jsx)(G,{isAuth:O})}}),Object(d.jsx)(l.a,{path:"/",exact:!0,render:function(){return Object(d.jsx)(N,{isAuth:O})}}),Object(d.jsx)(l.a,{path:"/signin",render:function(){return Object(d.jsx)(Q,{isAuth:O,setIsAuth:p,logined:y,setLogined:C})}}),Object(d.jsx)(l.a,{path:"/signup",render:function(){return Object(d.jsx)(Z,{isAuth:O})}})]})}),Object(d.jsx)(k,{})]})})})},Y=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,94)).then((function(t){var a=t.getCLS,c=t.getFID,s=t.getFCP,n=t.getLCP,i=t.getTTFB;a(e),c(e),s(e),n(e),i(e)}))};i.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(r.a,{children:Object(d.jsx)(X,{})})}),document.getElementById("root")),Y()}},[[93,1,2]]]);
//# sourceMappingURL=main.8c229286.chunk.js.map